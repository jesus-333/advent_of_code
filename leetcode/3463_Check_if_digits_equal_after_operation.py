"""
Original problem
https://leetcode.com/problems/check-if-digits-are-equal-in-string-after-operations-ii/
"""

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
import time
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

class Solution:

    def hasSameDigits(self, s : str) -> bool :
        s_int = [int(el) for el in s]

        while len(s_int) > 2 :
            new_s_int = []
            
            # Note that if I analyzed 4 elements at a time, I need
            # - int(len(s_int) / 4) iterations if len(s_int) is multiple of 4
            # - int(len(s_int) / 4) + 1 iterations otherwise
            n_iter = int(len(s_int) / 4)
            for i in range(n_iter) :
                s_0 = s_int[i * 4 - i]
                s_1 = s_int[i * 4 + 1 - i]
                s_2 = s_int[i * 4 + 2 - i]
                s_3 = s_int[i * 4 + 3 - i]

                new_s_int.append((s_0 + s_1) % 10)
                new_s_int.append((s_1 + s_2) % 10)
                new_s_int.append((s_2 + s_3) % 10)
            
            # Check if there are remaining elements to analyze (i.e. len(s_int) is not multiple of 4)
            elements_remaind_to_analyze = len(s_int) % 4
            if elements_remaind_to_analyze > 0 :
                shift = n_iter * 4 - elements_remaind_to_analyze
                for i in range(elements_remaind_to_analyze - 1) :
                    new_s_int.append((s_int[shift + i] + s_int[shift + i + 1]) % 10)

            s_int = new_s_int

            print(s_int)

        return s_int[0] == s_int[1]

    def hasSameDigits_OLD(self, s : str) -> bool :
        s_int = [int(el) for el in s]

        while len(s_int) > 2 :
            new_s_int = []
            for i in range(len(s_int) - 1) :
                new_s_int.append((s_int[i] + s_int[i + 1]) % 10)
                # new_digit = s_int[i] + s_int[i + 1]
                # new_s_int.append(new_digit - 10 if new_digit >= 10 else new_digit)
            s_int = new_s_int
        
        return s_int[0] == s_int[1]

    def hasSameDigits_UNOPTIMZED(self, s : str) -> bool :
        while len(s) > 2 :
            new_s = ""
            for i in range(len(s) - 1) : new_s += str((int(s[i]) + int(s[i + 1])) % 10)

            s = new_s
    
        return s[0] == s[1]

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

if __name__ == "__main__" :
    solver = Solution()

    input_list = [
        # "3902",
        # "34789",
        # "20335253488571944301838643909858830909227451597410707635442027655356687984806445950650334722843631016925387381815115127758756167316670018943221710022246676917942210973487434982148822683391106564850690193920101734064804505700647789618981593628448143659483348517493621690162725050035781500392747525358511481324949921727907541817631581121637807888003262617912910754652440080049730524888984982742376326358193748724598838887277647586488083529494896608904603950182117665374850667778178401378977063909454465397563644816045197620227810010839270510184786652900236217220459509047783996954283462854988587505107350082809333000075809272584013995323729155532339095325094034647718263440361424237193486702309099762930064533574223586866800036930852025920987776018797020868741246754244746259563096943268885017017711423768193176220280673333925211690389057218019593757923133760651460464292125804484727336927483692494976838816196465749087933898925087072410515464520370509224787946531529103511940721250304401860490584911081669505355430397476817380425084242322511739806173115074343581220240049434316641788610695365952137893843688390827256862077581479009496709733240162983891931685565261631635784214489944597868823557380586529605277689064246278693580021146804043991057616435131119047690770797972966150945751486131645394181498587969998553696484018770155765906541426563940399855162203827357326884147628615480214755400458956275617499186212049433544742783399710468403820099096953508203929369816591096014914972931528909787075844603039150756022188103126321004566065566775491657582415046188019163459849222759945047509180239766436116785096915403246073297892790943743088446214884026535288967373511677261979277326610127603348082557368435597749800113477518689176484197945819330041933778394013269607089122899553659788645309326533641171573221533432126626473682201927977908881080329035271760006937882299659474661271738663027964942349835743646061974546199485999729701271321486276438963989135959694964035637979687942208652935449349097035629137461329728150834682689296991241732820905818668875786213221476131279513289918313305209300381827212232652371730661442000005171930944580405588811772992155336782745611838062537517961814545510310821652105676491723697385273480707039322890872318873549595858266579669038738422193439110607933160193279605737000918075163219652215792246991319860405677260974766813837902284862172980982017149606240746208494599040234336928921809895520440271895542687588897699783165466867113110323901207444867775887934788178051827592774670980030649891803092153712648809835259820214503072295276626964372870321105708122550753667917256967614197164825366039982070705848630738646442123851987366301688363653489462442012686538440829932306824131881708568642946500322950436145747876750512445023693388988672751057122090778176723539797669766829801348025207569222650733241117194664293572778589784571670314416913089191159509903540878078750465237817869211467684431921258744072034082733847684181545968391629685713659440627088620095731817470689802016290373502319157111712309031656350204777835366375519792539722520526869104105145746881841121172950082668715878594700156615738807637430883088954028203852826461752370417848227129262413546792525586920521409515454150821860350003141173405991342025811066664200860259864062893107947435249013937549014253167599417699334722650452957510621787712749335028797358283865436373685983720388668536970490455027340122278063539202666650652471531589080788561380291006331828061481599965622853697131815233028461174209267189822480222280930897731149322515712931911410293574387100860806951694205794858907726264385019128020850150834344105697451180211475795739767834725339505332653301987488323889977045137255872913623154177943407500814102765186001445441655400677896253969795576189800461020517918218756534045115769687061615494593518394137284842546497431209261268679762811824369406700237887846685264960210459205896508576531584140708186089796289878638195226598207248350502940569987671892795679235684121982727788397430644831352971075981071073191584352703014664912075288801399642337305889775500119735477552124838832306243763596002331859260135844350283566842375497151918348991996286488122899814039010983694417419821579672509169876428518766061685888464494834494201744857025385590576760387041377939456451513192004129894703913777297517203912935045356869446745410427572414776486886566443067221287954375589654615521396754893839994376623564802982506758978516466806306496314846665589077827741626923336626405192092120654186476803001267437519204672136144593865998883537321944055878558762350623198093769993625159871646003871053536320711198369839014111849210579880396724096727575334936510638228634744823236252857053067801853043267047411940901927443002285810310048696706178528594940638075955419878971351727806628329167793754361123686119718936454968575249757981547702884988867346159266328681059830714428456756762913355120861214605777230534698278749729707583270125688408995267548880157378845343775718644754926407595646240277865853661236062074725462833749948880770994322943978274599180744219937995232065593111936630287320498356512409781287887974455563898837981201117828348780341940705852601191588874510664620441569704876723001210462622013638392485545883931899706923153672815425501791093500099087567424412459854215038545512291291497960676599912748609688705386842766144176174363163194962558945166365574179695585260589184258692011881986753358464021776288939154797164824392049254952293386211058915383721119277217140084165760930947079161316480614693362074553627440550409685086576745887192823438716935994987925088252423818488094071241232019657873695020981820436596903711645486264726601200625954472169615002713068041996012770643677367078978892499310369040778",
        # "4539256531047012544119759501089934694960190155987183013266463611192594558690933540495523988361402547566059762353917493657592792392535002364624520934606918542000576846269658405977071246905742502753612527820860353003476038936666826346307607637750696582240072694711463251000803910523045365029650287812988275134037339161705384268638812597433600872203656971759923721474548506192717172460194695616493546241393454129933339609310519257365017715086303624486811812873720624976476524845198175114178178931877376849870488320389907597808415113183052037470298565904487901069696630628670718826514199460087823337767033885628466396248800335656330167014364877499240191081567329472335686321310976196802674834976852357454282185292249031265547373960694180456582367316044981441498283200931072830224656518102362286058867482124306839810946189559235039668775725697352630229669816784005831415196464537812717922339053471566620611477010337484448834262988261698747232589537295720071825740183068143377856318780586863803796286129501441498000281005474435346125240280248715919471502853403765262509560282815424498213161928015796395146895877322840030733426071986491635718081332580416787864799580108825446678499447884792080377766010332216717247827079092542127073296052163462603238713350595235735177133216280580599802658766190238628879899649265061438963422690992497060000071826303122621574007332097580292147787211768723431527239309573339788103345695828759136708364447108751186021648116496278109925490374624602963144800141082263679275084094674929195316460252246910471240432951960809614504903815403907194821186709483531707896711100200351390692097364874354625394089071908908414333940521655030943172466333017048065129322171802810768446139428132981906646381890058753833619122232778112781891290682697453994958087390298024270911915945127753396875688803000886317309097052847083879866549722620427328750063732225139524034521869006553804245133587745635563948831169666588217095702311897715340636871975350768695887303972944264747322410593810286954283538990950594317375578082217460626991027783210301755892819738733226648064997239149405704985585186264145117133751590512831647889410594754808131970374140183227120371976265752840712479700169617652132703352003631799393187961286908838500806785236415518434224300028678371380149855960328613955151392399426235417972585688685190123075317429865942474382265602391395912255858351617453703832163566109726890999411862692330946349791127872222121679314227783268527464681942664328652088019385759095622867512816318339169648588414918311729617360117012717812471907249960770276569760538699093924751940990920991238929640090814628274014234284897381385185038216716765669462260961528547797892731009015916079194610551513864199202767670055764409297722857105464671186625045836909912227961143838121666635051274690950951936831893459700347981617975984967409568044903669545967893035367660508727672494826429414510656413654900339065227272296220466826675385293760722930502194708908409537073196855483570621972042563635211401278073045350580427602907207213377870198843682092119703513221356372209314520220082688630779250341108023049213711880437339322004448304204583856258245400917926928070251470438120257765926511245853312972702192775974674717767056001706057730483428964074015638661300426483614381203737291202965222044747279436965672404779687037217426570027139432384482946917746083505779008852575232775670544282579539310640379229378047048461934846107308902173254025207821995000076535838137733760325386301034506836241314023459332183020381791679302283841078537360500145290032172506902084643804546365941263628261433903256451076957006686675217714534121815004933934926479869015695043381025673404298418028278491257847314492877450809405130869579972020914940209152390596988263484487662328045600598392817206352745941033968250667069771057317944398145856711604881484826355585076337624455119125752041406900654227600900238939953479632761054698967397281337262392172382680712684198127565515856184405648168928063478842266705777923344520848979691936057120073475802625961521101146923317395206154853468613410935871924519782455578730570563831122934503255046662055510489015499363068309770484725552162182380299861775051936660184563463524371791894596802685083774243209701688664823309138565599344616908474960823072688316181063319333561693521773215679042586019728130898299770860748947556485114027915468592648164428417455390492008208381210498055710140041263655265768407493254307399511941870103257451946491573124194644330781622432374725437982268050988351852582780948820819249265809488049211253927013300570411149583568080481365272918281302285871179615480528325573150590052685561207696002282182753247994358492650348390900464613803482628364032021843131366415244632141388505023039016412046005477662665275844979051848823700611166230718088045260746530844893856568072855430286737600965889100063307021258268689053440592955695863493404962150062766935668039262405810289754958840395250571515761865803462932373042823456912612693955256413166367813480909818056652173075006815352893599268498447185869460058920185473889050561324532851980983164931951583888230271600742065433843001775194106295199405487453104051928631280001722818273573543365615363954284062993026202435875569496082852223943354072070809403093270325389109969458139413342298137236328250728517417086362328679379432564551231677794070352349384164178214937073188468529602645602210338448479519121117538031044222484370664098624715805043164833835642705134446222408049829343709949342826984568853312244974728913568655853542013291541824346741492970167734648382142585844333117020409331526556292820099122183793288927881708474654373630148806178969120932583698403900554039898139517772522566713562668698278844801887661414928197402895238437274935736996962126233651664594644588851937980872675615319037024780130587052659873724135777359829048638477745412834269166028505014938637904943310132634010748372371571589256657336634805715152218194535252780352773916141694168391357695657395560046861943619655472989360963127847947808797770517337427240142994902397051164805974126010757806159353144511655721812628431287222157734387230031274099844122153327360919322996577437654592675632461915533586653565903562332298851003565570206773072447154025774393310292475748637304858433130932016814223831818417396297144774332749965070531832303774882445238764368082467831781707766962521668463911298261405455447612369647410409707619244755014877668635575964858799733407393724777168197621283746064302997338852312977643824528809129467732931205672699864542747779571217471706364819638240550018685820465064419122541741056120494613989725576104523899196112807847395820922663827199019550395721706345325460514379767761105527453843758524105723783689638988678180369424055350879775889448866917431899656844556912313260533989125526794739146482944356936090586200458176520283458147946906297783320491783763750113629554841497058189029129799508314807793128645432126030395923277919639409001500876778644497490063265434614442193234617427483028337291843215585720414329540509349513922999585577737557556106511866030091451893894575761321951894306579266630267344624854501958541213732975692935663671307522260258287740701728397578600868085393724547489452120353245198583217586534737475292495496332992237588872571890232869872372837346739496171347265256255283427291043434907187307895305624913955373165555704439149012789880193797033813161105309372150272727408929984300143081195409662032892841165781371705116026376013430990994764350132656380088487373071850731493578482789093270392174531952117077459818960182885646945170708109507439298157497093541786033196864680682822938284654339506596871872466580502115240596340030032018866251952106609078931656873686381869541891864436509685452152634564465754470004819009844197542763276516551638132043055916844573564986357622883390877515921997437093795102005568255281653419677235001612434083630127557139326524792611755769764924583496358476078458220863929081974732578410512441434890289356899455532814734260923424389161800370730813599701982050894718910086119435497708399342175351134630469009152895221630189",
        "50289",
    ]

    for input_str in input_list :
        start_time = time.time()
        result = solver.hasSameDigits(input_str)
        end_time = time.time()

        print(f"Input: {input_str[0:3]} => Output: {result}")
        print(f"Time taken: {end_time - start_time:.6f} seconds\n")



